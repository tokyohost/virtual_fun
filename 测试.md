### 1. 切换到“手动控制”模式
   在 Linux hwmon 标准中，pwm1_enable 的值决定了谁在控制风扇：

1：手动模式（Manual）

2：自动模式（Automatic，由内核驱动逻辑控制）

首先，通过以下命令确保驱动处于手动模式：
```bash
echo 1 | sudo tee /sys/class/hwmon/hwmon4/pwm1_enable
```

### 2. 写入 PWM 值并观察转速
   PWM 的有效范围通常是 0 到 255（0 代表停止，255 代表全速）。

你可以打开两个终端窗口，或者使用 && 连接命令进行测试：

- 测试全速：
```bash
echo 255 | sudo tee /sys/class/hwmon/hwmon4/pwm1 && cat /sys/class/hwmon/hwmon4/fan1_input
```
预期结果： fan1_input 应该返回 5100 左右（取决于你代码中 255 * 20 的逻辑）。

- 测试半速：
```bash
echo 128 | sudo tee /sys/class/hwmon/hwmon4/pwm1 && cat /sys/class/hwmon/hwmon4/fan1_input
```
预期结果： fan1_input 应该返回 2560 左右。
- 测试停止
```bash
echo 0 | sudo tee /sys/class/hwmon/hwmon4/pwm1 && cat /sys/class/hwmon/hwmon4/fan1_input
```

### 3. 使用 watch 命令实时监控（推荐）
   为了更有“真实感”，你可以让终端每秒刷新一次数据，然后你在另一个窗口改数值：
   - 监控窗口：
```bash
watch -n 0.5 "cat /sys/class/hwmon/hwmon4/pwm1; cat /sys/class/hwmon/hwmon4/fan1_input"
```
### 4. 进阶测试：验证 fancontrol 的兼容性
   如果你能通过上述手动操作改变转速，那么 fancontrol 的配置工具 pwmconfig 现在应该可以正常工作了：

```bash
sudo pwmconfig
```

在执行过程中，你会看到 pwmconfig 自动执行类似的操作：

它会向 pwm1 写入 0，询问你：“风扇停了吗？”（虽然是虚拟的，但只要 fan1_input 变成 0，它就知道控制生效了）。
